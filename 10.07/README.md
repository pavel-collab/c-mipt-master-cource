# README

Исследование хэш-функций из [статьи](https://www.partow.net/programming/hashfunctions/#AvailableHashFunctions). Исследуем приведенные в статье 
хэш-функции на равномерность распределений и количество возникающих коллизий. 

Для эксперемента был сгенерирован пул случайных строк, заданной длинны, от которых считались хэши с помощью каждой из функций. Полученные
хэши и количество попаданий в них записывались в ассоциативный массив, таким образом, если посмотреть, как распределились значения в 
ассоциативном массиве, мы получим представление о плотности распределения хэш-функции; если сложить значения в ячейках, куда хэш-функция стреляла
больше одного раза, получим количество коллизий.

Все данные о хэш-функциях записываются программой в отдельный файл с расширением .csv в каталоге __data__. 

Для того, чтобы визуально пронаблюдать полученные результаты используется python-скрипт, который считывает данные из файлов в каталоге __data__ и 
строит по ним соотвествующие графики.

## Сборка и запуск эксперимента

Вначале компилируется и запускается c++ программа, которая собирает данные о хэш-функциях и записывает их в файлы. После этого, запускается питоновский
скрипт, который строит графики и сохраняет их в каталоге images. Для удобства запуска эксперимента были написаны bash-скрипты.

```
rm -rf data
rm -rf images
mkdir data
mkdir images

g++ main.cpp

./run.sh
```

## Результаты и выводы

По результатам заамеров можно сказать, что в отношении распределения все функции показывают удовлетворительный результат. Распределение каждой 
функции можно считать равномерным, никаких пучностей и провалов не наблюдается.

![График распределения](/10.07/images/distribution_APHash_50000.png)
![График распределения](/10.07/images/distribution_PJWHash_50000.png)
![График распределения](/10.07/images/distribution_SDBMHash_50000.png)

Что касается количества коллизий, среди 9 функций явно выделяются функции ELFHash и PJWHash. Количество коллизий на этих функциях заметно выше, чем
на остальных. Из тех функций, которые показали себя наилучшим образом, я бы выделил DJBHash, BKDRHash, DEKHash, JSHash. Кроме того
были проведены замеры количества коллизий при различной длинне строки. К сожалению, какой-то определенной зависимости от этого параметра
выделить не получилось. Предлагается провести на эту тему дополнительные исследования, а также посмотреть зависимость от размера
пула с случайными строками.

![Количество коллизий](/10.07/images/collisions_30000.png)
![Количество коллизий](/10.07/images/collisions_35000.png)
![Количество коллизий](/10.07/images/collisions_40000.png)
![Количество коллизий](/10.07/images/collisions_45000.png)
![Количество коллизий](/10.07/images/collisions_50000.png)

## Замечания

В силу того, что задача выполнялась в короткие сроки и на оборудовании с ограниченными мощностями, в приведенных результатах может присутствовать
неточность. По-хорошему каждый замер стоило бы проводить по несколько раз и затем усреднять результаты + указывать погрешности. Кроме того, стоит
провести более детально исследование зависимости количества коллизий от длинны строчки и от размера пула данных, попробовать снять больше данных.
На данный момент задачу пришлось закрыть в связи с ограниченными строками.